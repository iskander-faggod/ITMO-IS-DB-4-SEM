# Лекция #2

## Введение

> Данные сбстрагируются от бизнес-логики, в связи с этим возникают проблемы с доступом к данным

Если есть много приложений, которые хотят обратиться к данным, доступ будет выдан единовременно только одному приложению - иначе возникает риск тупиков.

## СУБД

> Над данными надстраивается слой, который нам обеспечивает доступ к данным - СУБД

Получаем следующую структуру:

> Клиент - БизнесЛогика - Доступ к данным (Данные)

**Система управления базами данных (СУБД)** — совокупность программных и лингвистических средств общего или специального назначения, обеспечивающих управление созданием и использованием баз данных

## Как работает СУБД? Архитектура ANSI/SPARC

Стандарт **ANSI/SPARC** - подход построения архитектуры.
В ней выделяется три слоя архитектуры.

### Уровни архитектуры ANSI/SPARC

1. Внешний у-нь
2. Концептуальный у-нь
3. Внутренний у-нь

### Внешний у-нь

Представление БД с позиции конечного пользователя _(смотрит на человека)_.

1. Определяется обьем и форма представления данных для принятия решения.
2. _Это не про хранение данных_, это про то как принимать эффективные решения на основе данных.

### Концептуальный у-нь

Обобщающее представление БД (то как данные хранятся и какая между ними связь/_смотрит на железо_).

1. Решение о том, какие данные и как они должны хранится _(например, статус будет храниться в числах или в строках)_.
2. Какие ограничения на эти данные накладываются _(проверка регулярными выражениями)_.

### Внутренний у-нь

Физическое представление БД с точки зрения конкретного инструмента.

1. Распределение данных по дисковому пространству
2. Структуры хранения данных
3. Как реализуется безопастность хранения данных (шифрование)
4. Сжатие данных, оптимизация памяти

> Таблица == отношения (relations)

**ANSI/SPARC** подразумевает учет всех трех уровней при приоектировании

**ANSI/SPARC** -> Уровни моделей данных

## Уровни моделей данных

1. Модель сущность-связь _ER(A)_
2. Логическая модель (даталогическая модель)
3. Физическая модель

### Модель сущность связь _ER(A)_

> ER(A) - _сущность-отношение-атрибуты_

**Сущность** - _множество экземпляров: реальных или абстрактных однотипных предметов предметной области_

**Сильная сущность** - _может существовать независимо от остальных_

**Слабая сущность** - _может существовать только вместе с другой (сильной)_

У **сущности** могут быть **атрибуты** (свойства сущности)

**Атрибуты**:

1. Простые - номер
2. Составные - адресс, населенный пункт и тд
3. Обязательные атрибуты - однозначно индетифицировать сущность
4. Необязательные атрибуты
5. Однозначные
6. Многозначные

**Типы связей**:

1. Один к одному
2. Один ко многим
3. Многие со многим

> Нотация Чена из доты.

### Логическая модель (даталогическая модель)

1. Иерархическая
2. Сетевая
3. Реляционная
4. ... еще какие-то Маятин не сказал

### Физическая модель

1. Определяем всевозможные ограничения в названиях и т.п
2. Ограничения на типы данных (доменты атрибутов)
3. Индексы и всё такое
4. Разделение на отдельные файлы, партиции
